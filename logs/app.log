2024-12-07 16:27:59.741 | DEBUG    | __main__:get_reference:98 - Distances: [[1.2483575 1.2627106 1.2696478]]
2024-12-07 16:27:59.741 | DEBUG    | __main__:get_reference:98 - Distances: [[1.2483575 1.2627106 1.2696478]]
2024-12-07 16:27:59.742 | DEBUG    | __main__:get_reference:99 - Indices: [[ 63 121 184]]
2024-12-07 16:27:59.742 | DEBUG    | __main__:get_reference:99 - Indices: [[ 63 121 184]]
2024-12-07 16:27:59.742 | DEBUG    | __main__:main:133 - final prompt: 
你是一位企业的智能客服，名字叫小海，如果用户输入的问题命中知识库，参照知识库中的内容进行回答，需要给出参考链接。
如果用户的问题不是，只是闲聊，请使用友善的语句与用户进行交流，不需要给出参考链接。
如果是你不能解决的问题，请回答友善的回答我不知道，不需要给出参考链接。

问题: "你好，你叫什么名字？"

参考资料: "[{'data': '}国际化对应 10\nResponse code: 202 (Accepted); Time: 419ms (419 ms);5.客服接口 1\nimport Callout from ‘nextra-theme-docs/callout ’\n5.客服接口\n游戏内通过接入此 API调起 G123平台提供的客服系统\n5.1前端上报玩家关键信息 API\n此 API主要用于，向平台客服系统传入，玩家当前游戏内的信息。接入 客服 API前，必须要接入此\nAPI。通常在游戏登录成功时调用此方法即可。\nwindow.top.postMessage (JSON.stringify ({\n"action" :"inform" ,\n"data":{\n"role_id" :"U-123-ABC" ,\n"role_name" :"我是角色名 ",\n"game_server" :"S101",\n"tags":[\'VIP2\',\'tag2\',\'tag3\',\'tag4\']\n}\n}),\'*\');\n参数\nparameter value required?\nrole_id 玩家在游戏内的唯一 uid Y es\nrole_name 玩家在游戏内的角色名 Y es\ngame_server 玩家当前的游戏服 Y es\ntags 玩家的关键信息 (VIP等级信息为必须 ，\n其他信息请在对接群中与 PM沟通 )，数\n量没有上限，只允许英文数字字母，有多个\ntag时请用英文” ,“号隔开Y es5.客服接口 2\n5.2客服 API\n玩家点击游戏内的客服按钮时调用此方法，必须实现 前端上报玩家关键信息 api\nwindow.top.postMessage (JSON.stringify ({\n"action" :"support"\n}),\'*\');5.客服接口 1\n5.客服接口\n准备\n完成数据接口 :g_register 事件和 g_login 事件\n方法\n当玩家点击游戏内的”客服”按钮时，触发方法以打开平台的客服窗口。\nwindow.top.postMessage (JSON.stringify ({\n"action" :"support"\n}),\'*\');11.活动平台 1\n11.活动平台\n11.1礼物发送方式\nAPI调用'}, {'data': '"message" :"下线成功"\n}\n7.3玩家管理系统\n协议说明\n•本文档意图说明接入 G123 GM 工具内的玩家管理系统所需提供的操作类型。\n•实现了对应接口后，请将 W ebhook 地址填入 Publisher 工具–>[GM 工具 ]–>[玩家管\n理 API]模块。\naction 操作类型枚举\n编号 枚举 含义\n1 rename 玩家重命名\n1 import 玩家数据导入\nqueryType 获取类型枚举\n编号 枚举 含义\n1 players 获取玩家列表\n2 player_details_tabs 获取 CP支持的玩家详情数据类型，本文档只提供协议规范和\n样例，具体实现需要 CP与运营共同商讨制订。\n3 player_details 获取指定类型的玩家数据详情。\n4 players 玩家数据操作\n5 item_logs 获取玩家道具流水日志7. GM 接口 [选接 ] 25\n编号 枚举 含义\n6 login_logs 获取玩家登录登出日志\n7 event_logs 获取玩家活动日志\n8 mail_logs 获取玩家邮件日志\n9 player_data_export 获取玩家数据导出 JSON\nHTTP 状态码\nHTTP 状态码 含义\n200 - OK 操作成功\n400 - Bad Request 错误请求，参数不合法或其他原因\n401 - Unauthorized 鉴权失败，未附 API key 或其他原因\n402 - Request F ailed 参数合法但其他原因请求失败\n403 - F orbidden 无权操作资源\n404 - Not F ound 该资源不可达\n409 - Conflict 资源状态与当前请求冲突\n500～504 - Server Errors 服务器内部错误\n7.3.1 玩家检索获取\n获取玩家列表\n•调用方法： GET\n•请求方： G123\n•响应方： CP\n•说明： G123平台获取玩家列表\n•验参： CP接入签名规则\n•请求参数Query\n编号 字段名 类型 必传 描述\n1 queryType string true 默认传 players\n2 page int true 页码，从 1开始7. GM 接口 [选接 ] 26\n编号 字段名 类型 必传 描述\n3 pageSize int true 页面大小'}, {'data': 'needShow 是否在充值列表展示 (0=显示，1=不显示）\ndesc2 页面展示描述\nsortNum 显示顺序（最小的在第一条）\ngold2 开服特惠价格\nisFourfold 首充送几倍元宝（ 0不加倍，3是三倍）\ndesc3 三倍页面展示描述\nratio 折扣比例\n礼包道具的中日文名称对应信息（ Optional ）\n*如果有的话需要同步。\n用户属性\n基本属性\n根据各游戏的相关用户信息做同步，所需要获取的信息：对用户在游戏里的一些有重要影响的信息，比\n如：用户的 demographic 信息，用户在游戏里的使用信息等。\n例：异世界\nColumn Format ValueRequired （If exist then\nYes)\nuid string 用户游戏唯一\n标示idYes\nname string 用户昵称 Yes\nsex string 用户注册性别 Yes\nctwid string g123 平台\nidYes\nserver_id string 游戏服id Yes11.分析用数据同步 14\nColumn Format ValueRequired （If exist then\nYes)\nreg_time Unix\ntime注册时间 Yes\nlevel string 玩家级别 Yes\nvip_level string 玩家vip级\n别Yes\nvip_exp string 玩家vip经\n验Yes\nlast_login_time Unix\ntime上次登录时间 Yes\nlast_online_time Unix\ntime上次在线时间 Yes\nlogin_streak integer 连续登录天数 Yes\ndevice_id string 设备唯一标示\n符Yes\nmoney integer 金币 Yes\nfood integer 粮食 Yes\nintelligence integer 魔力 Yes\ngold integer 元宝 Yes\nexp integer 等级经验 Yes\nenergy integer 美女精力 Yes\npower integer 战力 Yes\nmarkDays integer 签到总天数 Yes\nyearCardDays integer 年卡天数 Yes\nmonthCardDays integer 月卡天数 Yes'}]"

2024-12-07 16:27:59.742 | DEBUG    | __main__:main:133 - final prompt: 
你是一位企业的智能客服，名字叫小海，如果用户输入的问题命中知识库，参照知识库中的内容进行回答，需要给出参考链接。
如果用户的问题不是，只是闲聊，请使用友善的语句与用户进行交流，不需要给出参考链接。
如果是你不能解决的问题，请回答友善的回答我不知道，不需要给出参考链接。

问题: "你好，你叫什么名字？"

参考资料: "[{'data': '}国际化对应 10\nResponse code: 202 (Accepted); Time: 419ms (419 ms);5.客服接口 1\nimport Callout from ‘nextra-theme-docs/callout ’\n5.客服接口\n游戏内通过接入此 API调起 G123平台提供的客服系统\n5.1前端上报玩家关键信息 API\n此 API主要用于，向平台客服系统传入，玩家当前游戏内的信息。接入 客服 API前，必须要接入此\nAPI。通常在游戏登录成功时调用此方法即可。\nwindow.top.postMessage (JSON.stringify ({\n"action" :"inform" ,\n"data":{\n"role_id" :"U-123-ABC" ,\n"role_name" :"我是角色名 ",\n"game_server" :"S101",\n"tags":[\'VIP2\',\'tag2\',\'tag3\',\'tag4\']\n}\n}),\'*\');\n参数\nparameter value required?\nrole_id 玩家在游戏内的唯一 uid Y es\nrole_name 玩家在游戏内的角色名 Y es\ngame_server 玩家当前的游戏服 Y es\ntags 玩家的关键信息 (VIP等级信息为必须 ，\n其他信息请在对接群中与 PM沟通 )，数\n量没有上限，只允许英文数字字母，有多个\ntag时请用英文” ,“号隔开Y es5.客服接口 2\n5.2客服 API\n玩家点击游戏内的客服按钮时调用此方法，必须实现 前端上报玩家关键信息 api\nwindow.top.postMessage (JSON.stringify ({\n"action" :"support"\n}),\'*\');5.客服接口 1\n5.客服接口\n准备\n完成数据接口 :g_register 事件和 g_login 事件\n方法\n当玩家点击游戏内的”客服”按钮时，触发方法以打开平台的客服窗口。\nwindow.top.postMessage (JSON.stringify ({\n"action" :"support"\n}),\'*\');11.活动平台 1\n11.活动平台\n11.1礼物发送方式\nAPI调用'}, {'data': '"message" :"下线成功"\n}\n7.3玩家管理系统\n协议说明\n•本文档意图说明接入 G123 GM 工具内的玩家管理系统所需提供的操作类型。\n•实现了对应接口后，请将 W ebhook 地址填入 Publisher 工具–>[GM 工具 ]–>[玩家管\n理 API]模块。\naction 操作类型枚举\n编号 枚举 含义\n1 rename 玩家重命名\n1 import 玩家数据导入\nqueryType 获取类型枚举\n编号 枚举 含义\n1 players 获取玩家列表\n2 player_details_tabs 获取 CP支持的玩家详情数据类型，本文档只提供协议规范和\n样例，具体实现需要 CP与运营共同商讨制订。\n3 player_details 获取指定类型的玩家数据详情。\n4 players 玩家数据操作\n5 item_logs 获取玩家道具流水日志7. GM 接口 [选接 ] 25\n编号 枚举 含义\n6 login_logs 获取玩家登录登出日志\n7 event_logs 获取玩家活动日志\n8 mail_logs 获取玩家邮件日志\n9 player_data_export 获取玩家数据导出 JSON\nHTTP 状态码\nHTTP 状态码 含义\n200 - OK 操作成功\n400 - Bad Request 错误请求，参数不合法或其他原因\n401 - Unauthorized 鉴权失败，未附 API key 或其他原因\n402 - Request F ailed 参数合法但其他原因请求失败\n403 - F orbidden 无权操作资源\n404 - Not F ound 该资源不可达\n409 - Conflict 资源状态与当前请求冲突\n500～504 - Server Errors 服务器内部错误\n7.3.1 玩家检索获取\n获取玩家列表\n•调用方法： GET\n•请求方： G123\n•响应方： CP\n•说明： G123平台获取玩家列表\n•验参： CP接入签名规则\n•请求参数Query\n编号 字段名 类型 必传 描述\n1 queryType string true 默认传 players\n2 page int true 页码，从 1开始7. GM 接口 [选接 ] 26\n编号 字段名 类型 必传 描述\n3 pageSize int true 页面大小'}, {'data': 'needShow 是否在充值列表展示 (0=显示，1=不显示）\ndesc2 页面展示描述\nsortNum 显示顺序（最小的在第一条）\ngold2 开服特惠价格\nisFourfold 首充送几倍元宝（ 0不加倍，3是三倍）\ndesc3 三倍页面展示描述\nratio 折扣比例\n礼包道具的中日文名称对应信息（ Optional ）\n*如果有的话需要同步。\n用户属性\n基本属性\n根据各游戏的相关用户信息做同步，所需要获取的信息：对用户在游戏里的一些有重要影响的信息，比\n如：用户的 demographic 信息，用户在游戏里的使用信息等。\n例：异世界\nColumn Format ValueRequired （If exist then\nYes)\nuid string 用户游戏唯一\n标示idYes\nname string 用户昵称 Yes\nsex string 用户注册性别 Yes\nctwid string g123 平台\nidYes\nserver_id string 游戏服id Yes11.分析用数据同步 14\nColumn Format ValueRequired （If exist then\nYes)\nreg_time Unix\ntime注册时间 Yes\nlevel string 玩家级别 Yes\nvip_level string 玩家vip级\n别Yes\nvip_exp string 玩家vip经\n验Yes\nlast_login_time Unix\ntime上次登录时间 Yes\nlast_online_time Unix\ntime上次在线时间 Yes\nlogin_streak integer 连续登录天数 Yes\ndevice_id string 设备唯一标示\n符Yes\nmoney integer 金币 Yes\nfood integer 粮食 Yes\nintelligence integer 魔力 Yes\ngold integer 元宝 Yes\nexp integer 等级经验 Yes\nenergy integer 美女精力 Yes\npower integer 战力 Yes\nmarkDays integer 签到总天数 Yes\nyearCardDays integer 年卡天数 Yes\nmonthCardDays integer 月卡天数 Yes'}]"

2024-12-07 16:28:21.390 | DEBUG    | __main__:get_reference:98 - Distances: [[0.8481386 0.8987449 0.9478867]]
2024-12-07 16:28:21.390 | DEBUG    | __main__:get_reference:98 - Distances: [[0.8481386 0.8987449 0.9478867]]
2024-12-07 16:28:21.390 | DEBUG    | __main__:get_reference:98 - Distances: [[0.8481386 0.8987449 0.9478867]]
2024-12-07 16:28:21.390 | DEBUG    | __main__:get_reference:99 - Indices: [[196   3 195]]
2024-12-07 16:28:21.390 | DEBUG    | __main__:get_reference:99 - Indices: [[196   3 195]]
2024-12-07 16:28:21.390 | DEBUG    | __main__:get_reference:99 - Indices: [[196   3 195]]
2024-12-07 16:28:21.390 | DEBUG    | __main__:main:133 - final prompt: 
你是一位企业的智能客服，名字叫小海，如果用户输入的问题命中知识库，参照知识库中的内容进行回答，需要给出参考链接。
如果用户的问题不是，只是闲聊，请使用友善的语句与用户进行交流，不需要给出参考链接。
如果是你不能解决的问题，请回答友善的回答我不知道，不需要给出参考链接。

问题: "G123平台主要功能？"

参考资料: "[{'data': 'G123 平台接入指南\n一、 G123 平台特性\n•G123平台主打H5网页游戏，开发适配时请参考 最佳实践\n•G123用户无需注册账号，进入游戏即为其分配唯一的用户 ID（G123 ID ）\n•G123平台支持 多语言切换\n•G123平台提供推荐 多语言字体 下载，开发多语言游戏版本时，请参照下载使用\n•G123平台支持 多币种支付\n二、接入流程概述\n图1:workflow\n三、 G123 平台接口 /文档列表G123平台接入指南 31\n平台接\n口/文档 说明 接入阶段\n1.平台翻译\n工具接口可上传原文\n文本，并下\n载译文游戏制作\n2.账号接口\n(必接)获取G123\n用户唯一\nID及国际\n化参数等账\n号信息测试环境&正式环境\n3.支付接口\n(必接)接入G123\n平台支付系\n统（多币种\n支持）测试环境&正式环境\n4.数据接口\n(必接)向G123\n平台上报重\n要的日志数\n据测试环境&正式环境\n5.客服接口\n(必接)调起G123\n平台客服系\n统测试环境&正式环境\n6.礼包接口\n(必接)提供\npopup\nAPI接口\n给平台，调\n用gift\nAPI获取\n礼包信息测试环境&正式环境\n7.其他接口\n(选接)G123\nSNS分\n享/绑定/切\n换账号登选\n接API测试环境&正式环境G123平台接入指南 32\n平台接\n口/文档 说明 接入阶段\n8.Infra 申\n请申请Infra\n资源测试环境&正式环境\n9.切换到正\n式环境测试QA\n通过后正式\n替换接口环\n境参数正式环境\n10.常见问\n题关于接入平\n台时的常见\n问题正式环境\n11.数据分\n析用游戏上线后，\n游戏内活动\n效果数据分\n析用上线后\n四、接入须知\n多语言切换技术要点\n平台这边默认所有游戏、后续都会进行海外的投放、游戏国际化的技术实现、请提前同步以下几点\n•游戏的多语言支持：玩家可以在游戏内自由 切换语言 。\n请务必确认对游戏切语言的支持、必要时烦请提前做好游戏架构更新。\n•玩家进入游戏时的语言：始终根据平台透传的相关 语言参数、展示给玩家对应的语言界面。\n•切换语言时与平台的联动：玩家游戏内切换语言时、需要将切换的目标 语言参数通知平台。\n•海外多币种支持：始终根据平台透传的 币种参数、使用该币种的固定价目表来展示金额、以及创\n建订单。 （创建订单时传递的金额和币种一定要匹配）'}, {'data': '文本，并下\n载译文游戏制作G123平台接入指南 2\n平台接\n口/文档 说明 接入阶段\n账号 (必接 )获取 G123\n用户唯一\nID及国际\n化参数等账\n号信息测试环境 &正式环境\n支付 (必接 )接入 G123\n平台支付系\n统（多币种\n支持）测试环境 &正式环境\n打点 (必接 )向 G123\n平台上报重\n要的日志数\n据测试环境 &正式环境\n客服 (必接 )调起 G123\n平台客服系\n统测试环境 &正式环境\n礼包 (必接 )提供\npopup\nAPI接口\n给平台，调\n用 gift\nAPI获取\n礼包信息测试环境 &正式环境\n活动 (必接 )游戏内活动\n效果数据分\n析用上线前正式环境\n附加功能\n(选接 )G123\nSNS分\n享/绑定 /切\n换账号登选\n接 API测试环境 &正式环境G123平台接入指南 3\n平台接\n口/文档 说明 接入阶段\n部署 申请 Infra\n资源与发布\n游戏（建议\n接入平台前\n完成\nMVP 部\n署）测试环境 &正式环境\n常见问题 关于接入平\n台时的常见\n问题正式环境\n国际化对应 国际化参数\n详解测试环境 &正式环境\nJS SDK JS SDK 测试环境 &正式环境\n消息推送 Push\nMessage测试环境 &正式环境\n查询用户\nIM绑定User IM\nBind测试环境 &正式环境\n四、接入须知\n多语言切换技术要点\n平台这边默认所有游戏、后续都会进行海外的投放、游戏国际化的技术实现、请提前同步以下几点\n•游戏的多语言支持：玩家可以在游戏内自由 切换语言 。\n请务必确认对游戏切语言的支持、必要时烦请提前做好游戏架构更新。\n•玩家进入游戏时的语言：始终根据平台透传的相关 语言参数、展示给玩家对应的语言界面。\n•切换语言时与平台的联动：玩家游戏内切换语言时、需要将切换的目标 语言参数通知平台。\n•海外多币种支持：始终根据平台透传的 币种参数、使用该币种的固定价目表来展示金额、以及创\n建订单。 （创建订单时传递的金额和币种一定要匹配）G123平台接入指南 4\n•支持全球玩家混服等数据互动：后台全球玩家数据互通、 infra单地区单系统即可。 （阿里云日\n本区、全球玩家访问速度没问题）\n接入详情请参照： 国际化详细文档\n其他须知\n1.所有 API请走后端 ,不要将平台 key等暴露在前端显示\n2.网络不稳定或支付测试报错时请尝试连接 VPN后重试'}, {'data': '里云的ECS与 RDS(MySQL, MongoDB, Redis 等)服务。\n•其他资源、如域名 (g123-{appid}.com) 、SSL(*.g123-{appid}.com) 证书\n等、也会由我方提供。\n•监控方面、请 CP方做好游戏应用相关的监控。平台方会配置 Infra 层的监控、如\nCPU/Memory/Disk/Connection 等。\n8.何时向平台申请游戏服务器等 Infra 资源 ?功能版本的开发请自行搭建测试服、待功能完善且\n平台可进行大规模 QA之前、可向平台申请测试环境资源。\n9.国际化对应的时候，游戏获取到平台传来的币种后，具体商品的价格如何转换 ?商品的价格不需\n要转换，运营负责人会提供不同的币种下的商品价目表。参考： 国际化文档\n10.运营策略方面、开服后、要准备好多少可以随时开的游戏服？ 需要看一个服多少人（平台游戏\n一般7500创角自动开新服） 、如果有预注册的游戏、一般第一天导入 1万左右。可以先准备 10个\n服左右、看游戏数据与导量情况再开。\n11.平台支持的浏览器版本有哪些？ 平台使用开源的 浏览器代码编译级别 来保证绝大多数浏览器的\n兼容（部分过旧版本的浏览器访问游戏可能会出错） ,当前平台设置的规则是\n>1% inJP,\n>1%,not IE 11\n当前对应的浏览器范围是： and_chr 103 、chrome 103 、chrome 102 、chrome 101 、edgeG123平台接入指南 30\n103、edge 102 、edge 101 、firefox 101 、ios_saf 15.5 、ios_saf 15.4 、ios_saf 14.5-\n14.8、safari 15.5 、samsung 17.0\nimport Callout from ‘nextra-theme-docs/callout ’\nG123 平台接入指南\n一、 G123 平台特性\n•G123平台主打H5网页游戏，开发适配时请参考 最佳实践\n•G123用户无需注册账号，进入游戏即为其分配唯一的用户 ID（G123 ID ）\n•G123平台支持 多语言切换\n•G123平台提供推荐 多语言字体 下载，开发多语言游戏版本时，请参照下载使用\n•G123平台支持 多币种支付\n二、接入流程概述\n图1:workflow'}]"

2024-12-07 16:28:21.390 | DEBUG    | __main__:main:133 - final prompt: 
你是一位企业的智能客服，名字叫小海，如果用户输入的问题命中知识库，参照知识库中的内容进行回答，需要给出参考链接。
如果用户的问题不是，只是闲聊，请使用友善的语句与用户进行交流，不需要给出参考链接。
如果是你不能解决的问题，请回答友善的回答我不知道，不需要给出参考链接。

问题: "G123平台主要功能？"

参考资料: "[{'data': 'G123 平台接入指南\n一、 G123 平台特性\n•G123平台主打H5网页游戏，开发适配时请参考 最佳实践\n•G123用户无需注册账号，进入游戏即为其分配唯一的用户 ID（G123 ID ）\n•G123平台支持 多语言切换\n•G123平台提供推荐 多语言字体 下载，开发多语言游戏版本时，请参照下载使用\n•G123平台支持 多币种支付\n二、接入流程概述\n图1:workflow\n三、 G123 平台接口 /文档列表G123平台接入指南 31\n平台接\n口/文档 说明 接入阶段\n1.平台翻译\n工具接口可上传原文\n文本，并下\n载译文游戏制作\n2.账号接口\n(必接)获取G123\n用户唯一\nID及国际\n化参数等账\n号信息测试环境&正式环境\n3.支付接口\n(必接)接入G123\n平台支付系\n统（多币种\n支持）测试环境&正式环境\n4.数据接口\n(必接)向G123\n平台上报重\n要的日志数\n据测试环境&正式环境\n5.客服接口\n(必接)调起G123\n平台客服系\n统测试环境&正式环境\n6.礼包接口\n(必接)提供\npopup\nAPI接口\n给平台，调\n用gift\nAPI获取\n礼包信息测试环境&正式环境\n7.其他接口\n(选接)G123\nSNS分\n享/绑定/切\n换账号登选\n接API测试环境&正式环境G123平台接入指南 32\n平台接\n口/文档 说明 接入阶段\n8.Infra 申\n请申请Infra\n资源测试环境&正式环境\n9.切换到正\n式环境测试QA\n通过后正式\n替换接口环\n境参数正式环境\n10.常见问\n题关于接入平\n台时的常见\n问题正式环境\n11.数据分\n析用游戏上线后，\n游戏内活动\n效果数据分\n析用上线后\n四、接入须知\n多语言切换技术要点\n平台这边默认所有游戏、后续都会进行海外的投放、游戏国际化的技术实现、请提前同步以下几点\n•游戏的多语言支持：玩家可以在游戏内自由 切换语言 。\n请务必确认对游戏切语言的支持、必要时烦请提前做好游戏架构更新。\n•玩家进入游戏时的语言：始终根据平台透传的相关 语言参数、展示给玩家对应的语言界面。\n•切换语言时与平台的联动：玩家游戏内切换语言时、需要将切换的目标 语言参数通知平台。\n•海外多币种支持：始终根据平台透传的 币种参数、使用该币种的固定价目表来展示金额、以及创\n建订单。 （创建订单时传递的金额和币种一定要匹配）'}, {'data': '文本，并下\n载译文游戏制作G123平台接入指南 2\n平台接\n口/文档 说明 接入阶段\n账号 (必接 )获取 G123\n用户唯一\nID及国际\n化参数等账\n号信息测试环境 &正式环境\n支付 (必接 )接入 G123\n平台支付系\n统（多币种\n支持）测试环境 &正式环境\n打点 (必接 )向 G123\n平台上报重\n要的日志数\n据测试环境 &正式环境\n客服 (必接 )调起 G123\n平台客服系\n统测试环境 &正式环境\n礼包 (必接 )提供\npopup\nAPI接口\n给平台，调\n用 gift\nAPI获取\n礼包信息测试环境 &正式环境\n活动 (必接 )游戏内活动\n效果数据分\n析用上线前正式环境\n附加功能\n(选接 )G123\nSNS分\n享/绑定 /切\n换账号登选\n接 API测试环境 &正式环境G123平台接入指南 3\n平台接\n口/文档 说明 接入阶段\n部署 申请 Infra\n资源与发布\n游戏（建议\n接入平台前\n完成\nMVP 部\n署）测试环境 &正式环境\n常见问题 关于接入平\n台时的常见\n问题正式环境\n国际化对应 国际化参数\n详解测试环境 &正式环境\nJS SDK JS SDK 测试环境 &正式环境\n消息推送 Push\nMessage测试环境 &正式环境\n查询用户\nIM绑定User IM\nBind测试环境 &正式环境\n四、接入须知\n多语言切换技术要点\n平台这边默认所有游戏、后续都会进行海外的投放、游戏国际化的技术实现、请提前同步以下几点\n•游戏的多语言支持：玩家可以在游戏内自由 切换语言 。\n请务必确认对游戏切语言的支持、必要时烦请提前做好游戏架构更新。\n•玩家进入游戏时的语言：始终根据平台透传的相关 语言参数、展示给玩家对应的语言界面。\n•切换语言时与平台的联动：玩家游戏内切换语言时、需要将切换的目标 语言参数通知平台。\n•海外多币种支持：始终根据平台透传的 币种参数、使用该币种的固定价目表来展示金额、以及创\n建订单。 （创建订单时传递的金额和币种一定要匹配）G123平台接入指南 4\n•支持全球玩家混服等数据互动：后台全球玩家数据互通、 infra单地区单系统即可。 （阿里云日\n本区、全球玩家访问速度没问题）\n接入详情请参照： 国际化详细文档\n其他须知\n1.所有 API请走后端 ,不要将平台 key等暴露在前端显示\n2.网络不稳定或支付测试报错时请尝试连接 VPN后重试'}, {'data': '里云的ECS与 RDS(MySQL, MongoDB, Redis 等)服务。\n•其他资源、如域名 (g123-{appid}.com) 、SSL(*.g123-{appid}.com) 证书\n等、也会由我方提供。\n•监控方面、请 CP方做好游戏应用相关的监控。平台方会配置 Infra 层的监控、如\nCPU/Memory/Disk/Connection 等。\n8.何时向平台申请游戏服务器等 Infra 资源 ?功能版本的开发请自行搭建测试服、待功能完善且\n平台可进行大规模 QA之前、可向平台申请测试环境资源。\n9.国际化对应的时候，游戏获取到平台传来的币种后，具体商品的价格如何转换 ?商品的价格不需\n要转换，运营负责人会提供不同的币种下的商品价目表。参考： 国际化文档\n10.运营策略方面、开服后、要准备好多少可以随时开的游戏服？ 需要看一个服多少人（平台游戏\n一般7500创角自动开新服） 、如果有预注册的游戏、一般第一天导入 1万左右。可以先准备 10个\n服左右、看游戏数据与导量情况再开。\n11.平台支持的浏览器版本有哪些？ 平台使用开源的 浏览器代码编译级别 来保证绝大多数浏览器的\n兼容（部分过旧版本的浏览器访问游戏可能会出错） ,当前平台设置的规则是\n>1% inJP,\n>1%,not IE 11\n当前对应的浏览器范围是： and_chr 103 、chrome 103 、chrome 102 、chrome 101 、edgeG123平台接入指南 30\n103、edge 102 、edge 101 、firefox 101 、ios_saf 15.5 、ios_saf 15.4 、ios_saf 14.5-\n14.8、safari 15.5 、samsung 17.0\nimport Callout from ‘nextra-theme-docs/callout ’\nG123 平台接入指南\n一、 G123 平台特性\n•G123平台主打H5网页游戏，开发适配时请参考 最佳实践\n•G123用户无需注册账号，进入游戏即为其分配唯一的用户 ID（G123 ID ）\n•G123平台支持 多语言切换\n•G123平台提供推荐 多语言字体 下载，开发多语言游戏版本时，请参照下载使用\n•G123平台支持 多币种支付\n二、接入流程概述\n图1:workflow'}]"

2024-12-07 16:28:21.390 | DEBUG    | __main__:main:133 - final prompt: 
你是一位企业的智能客服，名字叫小海，如果用户输入的问题命中知识库，参照知识库中的内容进行回答，需要给出参考链接。
如果用户的问题不是，只是闲聊，请使用友善的语句与用户进行交流，不需要给出参考链接。
如果是你不能解决的问题，请回答友善的回答我不知道，不需要给出参考链接。

问题: "G123平台主要功能？"

参考资料: "[{'data': 'G123 平台接入指南\n一、 G123 平台特性\n•G123平台主打H5网页游戏，开发适配时请参考 最佳实践\n•G123用户无需注册账号，进入游戏即为其分配唯一的用户 ID（G123 ID ）\n•G123平台支持 多语言切换\n•G123平台提供推荐 多语言字体 下载，开发多语言游戏版本时，请参照下载使用\n•G123平台支持 多币种支付\n二、接入流程概述\n图1:workflow\n三、 G123 平台接口 /文档列表G123平台接入指南 31\n平台接\n口/文档 说明 接入阶段\n1.平台翻译\n工具接口可上传原文\n文本，并下\n载译文游戏制作\n2.账号接口\n(必接)获取G123\n用户唯一\nID及国际\n化参数等账\n号信息测试环境&正式环境\n3.支付接口\n(必接)接入G123\n平台支付系\n统（多币种\n支持）测试环境&正式环境\n4.数据接口\n(必接)向G123\n平台上报重\n要的日志数\n据测试环境&正式环境\n5.客服接口\n(必接)调起G123\n平台客服系\n统测试环境&正式环境\n6.礼包接口\n(必接)提供\npopup\nAPI接口\n给平台，调\n用gift\nAPI获取\n礼包信息测试环境&正式环境\n7.其他接口\n(选接)G123\nSNS分\n享/绑定/切\n换账号登选\n接API测试环境&正式环境G123平台接入指南 32\n平台接\n口/文档 说明 接入阶段\n8.Infra 申\n请申请Infra\n资源测试环境&正式环境\n9.切换到正\n式环境测试QA\n通过后正式\n替换接口环\n境参数正式环境\n10.常见问\n题关于接入平\n台时的常见\n问题正式环境\n11.数据分\n析用游戏上线后，\n游戏内活动\n效果数据分\n析用上线后\n四、接入须知\n多语言切换技术要点\n平台这边默认所有游戏、后续都会进行海外的投放、游戏国际化的技术实现、请提前同步以下几点\n•游戏的多语言支持：玩家可以在游戏内自由 切换语言 。\n请务必确认对游戏切语言的支持、必要时烦请提前做好游戏架构更新。\n•玩家进入游戏时的语言：始终根据平台透传的相关 语言参数、展示给玩家对应的语言界面。\n•切换语言时与平台的联动：玩家游戏内切换语言时、需要将切换的目标 语言参数通知平台。\n•海外多币种支持：始终根据平台透传的 币种参数、使用该币种的固定价目表来展示金额、以及创\n建订单。 （创建订单时传递的金额和币种一定要匹配）'}, {'data': '文本，并下\n载译文游戏制作G123平台接入指南 2\n平台接\n口/文档 说明 接入阶段\n账号 (必接 )获取 G123\n用户唯一\nID及国际\n化参数等账\n号信息测试环境 &正式环境\n支付 (必接 )接入 G123\n平台支付系\n统（多币种\n支持）测试环境 &正式环境\n打点 (必接 )向 G123\n平台上报重\n要的日志数\n据测试环境 &正式环境\n客服 (必接 )调起 G123\n平台客服系\n统测试环境 &正式环境\n礼包 (必接 )提供\npopup\nAPI接口\n给平台，调\n用 gift\nAPI获取\n礼包信息测试环境 &正式环境\n活动 (必接 )游戏内活动\n效果数据分\n析用上线前正式环境\n附加功能\n(选接 )G123\nSNS分\n享/绑定 /切\n换账号登选\n接 API测试环境 &正式环境G123平台接入指南 3\n平台接\n口/文档 说明 接入阶段\n部署 申请 Infra\n资源与发布\n游戏（建议\n接入平台前\n完成\nMVP 部\n署）测试环境 &正式环境\n常见问题 关于接入平\n台时的常见\n问题正式环境\n国际化对应 国际化参数\n详解测试环境 &正式环境\nJS SDK JS SDK 测试环境 &正式环境\n消息推送 Push\nMessage测试环境 &正式环境\n查询用户\nIM绑定User IM\nBind测试环境 &正式环境\n四、接入须知\n多语言切换技术要点\n平台这边默认所有游戏、后续都会进行海外的投放、游戏国际化的技术实现、请提前同步以下几点\n•游戏的多语言支持：玩家可以在游戏内自由 切换语言 。\n请务必确认对游戏切语言的支持、必要时烦请提前做好游戏架构更新。\n•玩家进入游戏时的语言：始终根据平台透传的相关 语言参数、展示给玩家对应的语言界面。\n•切换语言时与平台的联动：玩家游戏内切换语言时、需要将切换的目标 语言参数通知平台。\n•海外多币种支持：始终根据平台透传的 币种参数、使用该币种的固定价目表来展示金额、以及创\n建订单。 （创建订单时传递的金额和币种一定要匹配）G123平台接入指南 4\n•支持全球玩家混服等数据互动：后台全球玩家数据互通、 infra单地区单系统即可。 （阿里云日\n本区、全球玩家访问速度没问题）\n接入详情请参照： 国际化详细文档\n其他须知\n1.所有 API请走后端 ,不要将平台 key等暴露在前端显示\n2.网络不稳定或支付测试报错时请尝试连接 VPN后重试'}, {'data': '里云的ECS与 RDS(MySQL, MongoDB, Redis 等)服务。\n•其他资源、如域名 (g123-{appid}.com) 、SSL(*.g123-{appid}.com) 证书\n等、也会由我方提供。\n•监控方面、请 CP方做好游戏应用相关的监控。平台方会配置 Infra 层的监控、如\nCPU/Memory/Disk/Connection 等。\n8.何时向平台申请游戏服务器等 Infra 资源 ?功能版本的开发请自行搭建测试服、待功能完善且\n平台可进行大规模 QA之前、可向平台申请测试环境资源。\n9.国际化对应的时候，游戏获取到平台传来的币种后，具体商品的价格如何转换 ?商品的价格不需\n要转换，运营负责人会提供不同的币种下的商品价目表。参考： 国际化文档\n10.运营策略方面、开服后、要准备好多少可以随时开的游戏服？ 需要看一个服多少人（平台游戏\n一般7500创角自动开新服） 、如果有预注册的游戏、一般第一天导入 1万左右。可以先准备 10个\n服左右、看游戏数据与导量情况再开。\n11.平台支持的浏览器版本有哪些？ 平台使用开源的 浏览器代码编译级别 来保证绝大多数浏览器的\n兼容（部分过旧版本的浏览器访问游戏可能会出错） ,当前平台设置的规则是\n>1% inJP,\n>1%,not IE 11\n当前对应的浏览器范围是： and_chr 103 、chrome 103 、chrome 102 、chrome 101 、edgeG123平台接入指南 30\n103、edge 102 、edge 101 、firefox 101 、ios_saf 15.5 、ios_saf 15.4 、ios_saf 14.5-\n14.8、safari 15.5 、samsung 17.0\nimport Callout from ‘nextra-theme-docs/callout ’\nG123 平台接入指南\n一、 G123 平台特性\n•G123平台主打H5网页游戏，开发适配时请参考 最佳实践\n•G123用户无需注册账号，进入游戏即为其分配唯一的用户 ID（G123 ID ）\n•G123平台支持 多语言切换\n•G123平台提供推荐 多语言字体 下载，开发多语言游戏版本时，请参照下载使用\n•G123平台支持 多币种支付\n二、接入流程概述\n图1:workflow'}]"

2024-12-07 16:36:56.861 | DEBUG    | __main__:get_reference:98 - Distances: [[1.2483575 1.2627106 1.2696478]]
2024-12-07 16:36:56.861 | DEBUG    | __main__:get_reference:98 - Distances: [[1.2483575 1.2627106 1.2696478]]
2024-12-07 16:36:56.861 | DEBUG    | __main__:get_reference:98 - Distances: [[1.2483575 1.2627106 1.2696478]]
2024-12-07 16:36:56.861 | DEBUG    | __main__:get_reference:98 - Distances: [[1.2483575 1.2627106 1.2696478]]
2024-12-07 16:36:56.861 | DEBUG    | __main__:get_reference:98 - Distances: [[1.2483575 1.2627106 1.2696478]]
2024-12-07 16:36:56.862 | DEBUG    | __main__:get_reference:99 - Indices: [[ 63 121 184]]
2024-12-07 16:36:56.862 | DEBUG    | __main__:get_reference:99 - Indices: [[ 63 121 184]]
2024-12-07 16:36:56.862 | DEBUG    | __main__:get_reference:99 - Indices: [[ 63 121 184]]
2024-12-07 16:36:56.862 | DEBUG    | __main__:get_reference:99 - Indices: [[ 63 121 184]]
2024-12-07 16:36:56.862 | DEBUG    | __main__:get_reference:99 - Indices: [[ 63 121 184]]
2024-12-07 16:36:56.862 | DEBUG    | __main__:main:133 - final prompt: 
你是一位企业的智能客服，名字叫小海，如果用户输入的问题命中知识库，参照知识库中的内容进行回答，需要给出参考链接。
如果用户的问题不是，只是闲聊，请使用友善的语句与用户进行交流，不需要给出参考链接。
如果是你不能解决的问题，请回答友善的回答我不知道，不需要给出参考链接。

问题: "你好，你叫什么名字？"

参考资料: "[{'data': '}国际化对应 10\nResponse code: 202 (Accepted); Time: 419ms (419 ms);5.客服接口 1\nimport Callout from ‘nextra-theme-docs/callout ’\n5.客服接口\n游戏内通过接入此 API调起 G123平台提供的客服系统\n5.1前端上报玩家关键信息 API\n此 API主要用于，向平台客服系统传入，玩家当前游戏内的信息。接入 客服 API前，必须要接入此\nAPI。通常在游戏登录成功时调用此方法即可。\nwindow.top.postMessage (JSON.stringify ({\n"action" :"inform" ,\n"data":{\n"role_id" :"U-123-ABC" ,\n"role_name" :"我是角色名 ",\n"game_server" :"S101",\n"tags":[\'VIP2\',\'tag2\',\'tag3\',\'tag4\']\n}\n}),\'*\');\n参数\nparameter value required?\nrole_id 玩家在游戏内的唯一 uid Y es\nrole_name 玩家在游戏内的角色名 Y es\ngame_server 玩家当前的游戏服 Y es\ntags 玩家的关键信息 (VIP等级信息为必须 ，\n其他信息请在对接群中与 PM沟通 )，数\n量没有上限，只允许英文数字字母，有多个\ntag时请用英文” ,“号隔开Y es5.客服接口 2\n5.2客服 API\n玩家点击游戏内的客服按钮时调用此方法，必须实现 前端上报玩家关键信息 api\nwindow.top.postMessage (JSON.stringify ({\n"action" :"support"\n}),\'*\');5.客服接口 1\n5.客服接口\n准备\n完成数据接口 :g_register 事件和 g_login 事件\n方法\n当玩家点击游戏内的”客服”按钮时，触发方法以打开平台的客服窗口。\nwindow.top.postMessage (JSON.stringify ({\n"action" :"support"\n}),\'*\');11.活动平台 1\n11.活动平台\n11.1礼物发送方式\nAPI调用'}, {'data': '"message" :"下线成功"\n}\n7.3玩家管理系统\n协议说明\n•本文档意图说明接入 G123 GM 工具内的玩家管理系统所需提供的操作类型。\n•实现了对应接口后，请将 W ebhook 地址填入 Publisher 工具–>[GM 工具 ]–>[玩家管\n理 API]模块。\naction 操作类型枚举\n编号 枚举 含义\n1 rename 玩家重命名\n1 import 玩家数据导入\nqueryType 获取类型枚举\n编号 枚举 含义\n1 players 获取玩家列表\n2 player_details_tabs 获取 CP支持的玩家详情数据类型，本文档只提供协议规范和\n样例，具体实现需要 CP与运营共同商讨制订。\n3 player_details 获取指定类型的玩家数据详情。\n4 players 玩家数据操作\n5 item_logs 获取玩家道具流水日志7. GM 接口 [选接 ] 25\n编号 枚举 含义\n6 login_logs 获取玩家登录登出日志\n7 event_logs 获取玩家活动日志\n8 mail_logs 获取玩家邮件日志\n9 player_data_export 获取玩家数据导出 JSON\nHTTP 状态码\nHTTP 状态码 含义\n200 - OK 操作成功\n400 - Bad Request 错误请求，参数不合法或其他原因\n401 - Unauthorized 鉴权失败，未附 API key 或其他原因\n402 - Request F ailed 参数合法但其他原因请求失败\n403 - F orbidden 无权操作资源\n404 - Not F ound 该资源不可达\n409 - Conflict 资源状态与当前请求冲突\n500～504 - Server Errors 服务器内部错误\n7.3.1 玩家检索获取\n获取玩家列表\n•调用方法： GET\n•请求方： G123\n•响应方： CP\n•说明： G123平台获取玩家列表\n•验参： CP接入签名规则\n•请求参数Query\n编号 字段名 类型 必传 描述\n1 queryType string true 默认传 players\n2 page int true 页码，从 1开始7. GM 接口 [选接 ] 26\n编号 字段名 类型 必传 描述\n3 pageSize int true 页面大小'}, {'data': 'needShow 是否在充值列表展示 (0=显示，1=不显示）\ndesc2 页面展示描述\nsortNum 显示顺序（最小的在第一条）\ngold2 开服特惠价格\nisFourfold 首充送几倍元宝（ 0不加倍，3是三倍）\ndesc3 三倍页面展示描述\nratio 折扣比例\n礼包道具的中日文名称对应信息（ Optional ）\n*如果有的话需要同步。\n用户属性\n基本属性\n根据各游戏的相关用户信息做同步，所需要获取的信息：对用户在游戏里的一些有重要影响的信息，比\n如：用户的 demographic 信息，用户在游戏里的使用信息等。\n例：异世界\nColumn Format ValueRequired （If exist then\nYes)\nuid string 用户游戏唯一\n标示idYes\nname string 用户昵称 Yes\nsex string 用户注册性别 Yes\nctwid string g123 平台\nidYes\nserver_id string 游戏服id Yes11.分析用数据同步 14\nColumn Format ValueRequired （If exist then\nYes)\nreg_time Unix\ntime注册时间 Yes\nlevel string 玩家级别 Yes\nvip_level string 玩家vip级\n别Yes\nvip_exp string 玩家vip经\n验Yes\nlast_login_time Unix\ntime上次登录时间 Yes\nlast_online_time Unix\ntime上次在线时间 Yes\nlogin_streak integer 连续登录天数 Yes\ndevice_id string 设备唯一标示\n符Yes\nmoney integer 金币 Yes\nfood integer 粮食 Yes\nintelligence integer 魔力 Yes\ngold integer 元宝 Yes\nexp integer 等级经验 Yes\nenergy integer 美女精力 Yes\npower integer 战力 Yes\nmarkDays integer 签到总天数 Yes\nyearCardDays integer 年卡天数 Yes\nmonthCardDays integer 月卡天数 Yes'}]"

2024-12-07 16:36:56.862 | DEBUG    | __main__:main:133 - final prompt: 
你是一位企业的智能客服，名字叫小海，如果用户输入的问题命中知识库，参照知识库中的内容进行回答，需要给出参考链接。
如果用户的问题不是，只是闲聊，请使用友善的语句与用户进行交流，不需要给出参考链接。
如果是你不能解决的问题，请回答友善的回答我不知道，不需要给出参考链接。

问题: "你好，你叫什么名字？"

参考资料: "[{'data': '}国际化对应 10\nResponse code: 202 (Accepted); Time: 419ms (419 ms);5.客服接口 1\nimport Callout from ‘nextra-theme-docs/callout ’\n5.客服接口\n游戏内通过接入此 API调起 G123平台提供的客服系统\n5.1前端上报玩家关键信息 API\n此 API主要用于，向平台客服系统传入，玩家当前游戏内的信息。接入 客服 API前，必须要接入此\nAPI。通常在游戏登录成功时调用此方法即可。\nwindow.top.postMessage (JSON.stringify ({\n"action" :"inform" ,\n"data":{\n"role_id" :"U-123-ABC" ,\n"role_name" :"我是角色名 ",\n"game_server" :"S101",\n"tags":[\'VIP2\',\'tag2\',\'tag3\',\'tag4\']\n}\n}),\'*\');\n参数\nparameter value required?\nrole_id 玩家在游戏内的唯一 uid Y es\nrole_name 玩家在游戏内的角色名 Y es\ngame_server 玩家当前的游戏服 Y es\ntags 玩家的关键信息 (VIP等级信息为必须 ，\n其他信息请在对接群中与 PM沟通 )，数\n量没有上限，只允许英文数字字母，有多个\ntag时请用英文” ,“号隔开Y es5.客服接口 2\n5.2客服 API\n玩家点击游戏内的客服按钮时调用此方法，必须实现 前端上报玩家关键信息 api\nwindow.top.postMessage (JSON.stringify ({\n"action" :"support"\n}),\'*\');5.客服接口 1\n5.客服接口\n准备\n完成数据接口 :g_register 事件和 g_login 事件\n方法\n当玩家点击游戏内的”客服”按钮时，触发方法以打开平台的客服窗口。\nwindow.top.postMessage (JSON.stringify ({\n"action" :"support"\n}),\'*\');11.活动平台 1\n11.活动平台\n11.1礼物发送方式\nAPI调用'}, {'data': '"message" :"下线成功"\n}\n7.3玩家管理系统\n协议说明\n•本文档意图说明接入 G123 GM 工具内的玩家管理系统所需提供的操作类型。\n•实现了对应接口后，请将 W ebhook 地址填入 Publisher 工具–>[GM 工具 ]–>[玩家管\n理 API]模块。\naction 操作类型枚举\n编号 枚举 含义\n1 rename 玩家重命名\n1 import 玩家数据导入\nqueryType 获取类型枚举\n编号 枚举 含义\n1 players 获取玩家列表\n2 player_details_tabs 获取 CP支持的玩家详情数据类型，本文档只提供协议规范和\n样例，具体实现需要 CP与运营共同商讨制订。\n3 player_details 获取指定类型的玩家数据详情。\n4 players 玩家数据操作\n5 item_logs 获取玩家道具流水日志7. GM 接口 [选接 ] 25\n编号 枚举 含义\n6 login_logs 获取玩家登录登出日志\n7 event_logs 获取玩家活动日志\n8 mail_logs 获取玩家邮件日志\n9 player_data_export 获取玩家数据导出 JSON\nHTTP 状态码\nHTTP 状态码 含义\n200 - OK 操作成功\n400 - Bad Request 错误请求，参数不合法或其他原因\n401 - Unauthorized 鉴权失败，未附 API key 或其他原因\n402 - Request F ailed 参数合法但其他原因请求失败\n403 - F orbidden 无权操作资源\n404 - Not F ound 该资源不可达\n409 - Conflict 资源状态与当前请求冲突\n500～504 - Server Errors 服务器内部错误\n7.3.1 玩家检索获取\n获取玩家列表\n•调用方法： GET\n•请求方： G123\n•响应方： CP\n•说明： G123平台获取玩家列表\n•验参： CP接入签名规则\n•请求参数Query\n编号 字段名 类型 必传 描述\n1 queryType string true 默认传 players\n2 page int true 页码，从 1开始7. GM 接口 [选接 ] 26\n编号 字段名 类型 必传 描述\n3 pageSize int true 页面大小'}, {'data': 'needShow 是否在充值列表展示 (0=显示，1=不显示）\ndesc2 页面展示描述\nsortNum 显示顺序（最小的在第一条）\ngold2 开服特惠价格\nisFourfold 首充送几倍元宝（ 0不加倍，3是三倍）\ndesc3 三倍页面展示描述\nratio 折扣比例\n礼包道具的中日文名称对应信息（ Optional ）\n*如果有的话需要同步。\n用户属性\n基本属性\n根据各游戏的相关用户信息做同步，所需要获取的信息：对用户在游戏里的一些有重要影响的信息，比\n如：用户的 demographic 信息，用户在游戏里的使用信息等。\n例：异世界\nColumn Format ValueRequired （If exist then\nYes)\nuid string 用户游戏唯一\n标示idYes\nname string 用户昵称 Yes\nsex string 用户注册性别 Yes\nctwid string g123 平台\nidYes\nserver_id string 游戏服id Yes11.分析用数据同步 14\nColumn Format ValueRequired （If exist then\nYes)\nreg_time Unix\ntime注册时间 Yes\nlevel string 玩家级别 Yes\nvip_level string 玩家vip级\n别Yes\nvip_exp string 玩家vip经\n验Yes\nlast_login_time Unix\ntime上次登录时间 Yes\nlast_online_time Unix\ntime上次在线时间 Yes\nlogin_streak integer 连续登录天数 Yes\ndevice_id string 设备唯一标示\n符Yes\nmoney integer 金币 Yes\nfood integer 粮食 Yes\nintelligence integer 魔力 Yes\ngold integer 元宝 Yes\nexp integer 等级经验 Yes\nenergy integer 美女精力 Yes\npower integer 战力 Yes\nmarkDays integer 签到总天数 Yes\nyearCardDays integer 年卡天数 Yes\nmonthCardDays integer 月卡天数 Yes'}]"

2024-12-07 16:36:56.862 | DEBUG    | __main__:main:133 - final prompt: 
你是一位企业的智能客服，名字叫小海，如果用户输入的问题命中知识库，参照知识库中的内容进行回答，需要给出参考链接。
如果用户的问题不是，只是闲聊，请使用友善的语句与用户进行交流，不需要给出参考链接。
如果是你不能解决的问题，请回答友善的回答我不知道，不需要给出参考链接。

问题: "你好，你叫什么名字？"

参考资料: "[{'data': '}国际化对应 10\nResponse code: 202 (Accepted); Time: 419ms (419 ms);5.客服接口 1\nimport Callout from ‘nextra-theme-docs/callout ’\n5.客服接口\n游戏内通过接入此 API调起 G123平台提供的客服系统\n5.1前端上报玩家关键信息 API\n此 API主要用于，向平台客服系统传入，玩家当前游戏内的信息。接入 客服 API前，必须要接入此\nAPI。通常在游戏登录成功时调用此方法即可。\nwindow.top.postMessage (JSON.stringify ({\n"action" :"inform" ,\n"data":{\n"role_id" :"U-123-ABC" ,\n"role_name" :"我是角色名 ",\n"game_server" :"S101",\n"tags":[\'VIP2\',\'tag2\',\'tag3\',\'tag4\']\n}\n}),\'*\');\n参数\nparameter value required?\nrole_id 玩家在游戏内的唯一 uid Y es\nrole_name 玩家在游戏内的角色名 Y es\ngame_server 玩家当前的游戏服 Y es\ntags 玩家的关键信息 (VIP等级信息为必须 ，\n其他信息请在对接群中与 PM沟通 )，数\n量没有上限，只允许英文数字字母，有多个\ntag时请用英文” ,“号隔开Y es5.客服接口 2\n5.2客服 API\n玩家点击游戏内的客服按钮时调用此方法，必须实现 前端上报玩家关键信息 api\nwindow.top.postMessage (JSON.stringify ({\n"action" :"support"\n}),\'*\');5.客服接口 1\n5.客服接口\n准备\n完成数据接口 :g_register 事件和 g_login 事件\n方法\n当玩家点击游戏内的”客服”按钮时，触发方法以打开平台的客服窗口。\nwindow.top.postMessage (JSON.stringify ({\n"action" :"support"\n}),\'*\');11.活动平台 1\n11.活动平台\n11.1礼物发送方式\nAPI调用'}, {'data': '"message" :"下线成功"\n}\n7.3玩家管理系统\n协议说明\n•本文档意图说明接入 G123 GM 工具内的玩家管理系统所需提供的操作类型。\n•实现了对应接口后，请将 W ebhook 地址填入 Publisher 工具–>[GM 工具 ]–>[玩家管\n理 API]模块。\naction 操作类型枚举\n编号 枚举 含义\n1 rename 玩家重命名\n1 import 玩家数据导入\nqueryType 获取类型枚举\n编号 枚举 含义\n1 players 获取玩家列表\n2 player_details_tabs 获取 CP支持的玩家详情数据类型，本文档只提供协议规范和\n样例，具体实现需要 CP与运营共同商讨制订。\n3 player_details 获取指定类型的玩家数据详情。\n4 players 玩家数据操作\n5 item_logs 获取玩家道具流水日志7. GM 接口 [选接 ] 25\n编号 枚举 含义\n6 login_logs 获取玩家登录登出日志\n7 event_logs 获取玩家活动日志\n8 mail_logs 获取玩家邮件日志\n9 player_data_export 获取玩家数据导出 JSON\nHTTP 状态码\nHTTP 状态码 含义\n200 - OK 操作成功\n400 - Bad Request 错误请求，参数不合法或其他原因\n401 - Unauthorized 鉴权失败，未附 API key 或其他原因\n402 - Request F ailed 参数合法但其他原因请求失败\n403 - F orbidden 无权操作资源\n404 - Not F ound 该资源不可达\n409 - Conflict 资源状态与当前请求冲突\n500～504 - Server Errors 服务器内部错误\n7.3.1 玩家检索获取\n获取玩家列表\n•调用方法： GET\n•请求方： G123\n•响应方： CP\n•说明： G123平台获取玩家列表\n•验参： CP接入签名规则\n•请求参数Query\n编号 字段名 类型 必传 描述\n1 queryType string true 默认传 players\n2 page int true 页码，从 1开始7. GM 接口 [选接 ] 26\n编号 字段名 类型 必传 描述\n3 pageSize int true 页面大小'}, {'data': 'needShow 是否在充值列表展示 (0=显示，1=不显示）\ndesc2 页面展示描述\nsortNum 显示顺序（最小的在第一条）\ngold2 开服特惠价格\nisFourfold 首充送几倍元宝（ 0不加倍，3是三倍）\ndesc3 三倍页面展示描述\nratio 折扣比例\n礼包道具的中日文名称对应信息（ Optional ）\n*如果有的话需要同步。\n用户属性\n基本属性\n根据各游戏的相关用户信息做同步，所需要获取的信息：对用户在游戏里的一些有重要影响的信息，比\n如：用户的 demographic 信息，用户在游戏里的使用信息等。\n例：异世界\nColumn Format ValueRequired （If exist then\nYes)\nuid string 用户游戏唯一\n标示idYes\nname string 用户昵称 Yes\nsex string 用户注册性别 Yes\nctwid string g123 平台\nidYes\nserver_id string 游戏服id Yes11.分析用数据同步 14\nColumn Format ValueRequired （If exist then\nYes)\nreg_time Unix\ntime注册时间 Yes\nlevel string 玩家级别 Yes\nvip_level string 玩家vip级\n别Yes\nvip_exp string 玩家vip经\n验Yes\nlast_login_time Unix\ntime上次登录时间 Yes\nlast_online_time Unix\ntime上次在线时间 Yes\nlogin_streak integer 连续登录天数 Yes\ndevice_id string 设备唯一标示\n符Yes\nmoney integer 金币 Yes\nfood integer 粮食 Yes\nintelligence integer 魔力 Yes\ngold integer 元宝 Yes\nexp integer 等级经验 Yes\nenergy integer 美女精力 Yes\npower integer 战力 Yes\nmarkDays integer 签到总天数 Yes\nyearCardDays integer 年卡天数 Yes\nmonthCardDays integer 月卡天数 Yes'}]"

2024-12-07 16:36:56.862 | DEBUG    | __main__:main:133 - final prompt: 
你是一位企业的智能客服，名字叫小海，如果用户输入的问题命中知识库，参照知识库中的内容进行回答，需要给出参考链接。
如果用户的问题不是，只是闲聊，请使用友善的语句与用户进行交流，不需要给出参考链接。
如果是你不能解决的问题，请回答友善的回答我不知道，不需要给出参考链接。

问题: "你好，你叫什么名字？"

参考资料: "[{'data': '}国际化对应 10\nResponse code: 202 (Accepted); Time: 419ms (419 ms);5.客服接口 1\nimport Callout from ‘nextra-theme-docs/callout ’\n5.客服接口\n游戏内通过接入此 API调起 G123平台提供的客服系统\n5.1前端上报玩家关键信息 API\n此 API主要用于，向平台客服系统传入，玩家当前游戏内的信息。接入 客服 API前，必须要接入此\nAPI。通常在游戏登录成功时调用此方法即可。\nwindow.top.postMessage (JSON.stringify ({\n"action" :"inform" ,\n"data":{\n"role_id" :"U-123-ABC" ,\n"role_name" :"我是角色名 ",\n"game_server" :"S101",\n"tags":[\'VIP2\',\'tag2\',\'tag3\',\'tag4\']\n}\n}),\'*\');\n参数\nparameter value required?\nrole_id 玩家在游戏内的唯一 uid Y es\nrole_name 玩家在游戏内的角色名 Y es\ngame_server 玩家当前的游戏服 Y es\ntags 玩家的关键信息 (VIP等级信息为必须 ，\n其他信息请在对接群中与 PM沟通 )，数\n量没有上限，只允许英文数字字母，有多个\ntag时请用英文” ,“号隔开Y es5.客服接口 2\n5.2客服 API\n玩家点击游戏内的客服按钮时调用此方法，必须实现 前端上报玩家关键信息 api\nwindow.top.postMessage (JSON.stringify ({\n"action" :"support"\n}),\'*\');5.客服接口 1\n5.客服接口\n准备\n完成数据接口 :g_register 事件和 g_login 事件\n方法\n当玩家点击游戏内的”客服”按钮时，触发方法以打开平台的客服窗口。\nwindow.top.postMessage (JSON.stringify ({\n"action" :"support"\n}),\'*\');11.活动平台 1\n11.活动平台\n11.1礼物发送方式\nAPI调用'}, {'data': '"message" :"下线成功"\n}\n7.3玩家管理系统\n协议说明\n•本文档意图说明接入 G123 GM 工具内的玩家管理系统所需提供的操作类型。\n•实现了对应接口后，请将 W ebhook 地址填入 Publisher 工具–>[GM 工具 ]–>[玩家管\n理 API]模块。\naction 操作类型枚举\n编号 枚举 含义\n1 rename 玩家重命名\n1 import 玩家数据导入\nqueryType 获取类型枚举\n编号 枚举 含义\n1 players 获取玩家列表\n2 player_details_tabs 获取 CP支持的玩家详情数据类型，本文档只提供协议规范和\n样例，具体实现需要 CP与运营共同商讨制订。\n3 player_details 获取指定类型的玩家数据详情。\n4 players 玩家数据操作\n5 item_logs 获取玩家道具流水日志7. GM 接口 [选接 ] 25\n编号 枚举 含义\n6 login_logs 获取玩家登录登出日志\n7 event_logs 获取玩家活动日志\n8 mail_logs 获取玩家邮件日志\n9 player_data_export 获取玩家数据导出 JSON\nHTTP 状态码\nHTTP 状态码 含义\n200 - OK 操作成功\n400 - Bad Request 错误请求，参数不合法或其他原因\n401 - Unauthorized 鉴权失败，未附 API key 或其他原因\n402 - Request F ailed 参数合法但其他原因请求失败\n403 - F orbidden 无权操作资源\n404 - Not F ound 该资源不可达\n409 - Conflict 资源状态与当前请求冲突\n500～504 - Server Errors 服务器内部错误\n7.3.1 玩家检索获取\n获取玩家列表\n•调用方法： GET\n•请求方： G123\n•响应方： CP\n•说明： G123平台获取玩家列表\n•验参： CP接入签名规则\n•请求参数Query\n编号 字段名 类型 必传 描述\n1 queryType string true 默认传 players\n2 page int true 页码，从 1开始7. GM 接口 [选接 ] 26\n编号 字段名 类型 必传 描述\n3 pageSize int true 页面大小'}, {'data': 'needShow 是否在充值列表展示 (0=显示，1=不显示）\ndesc2 页面展示描述\nsortNum 显示顺序（最小的在第一条）\ngold2 开服特惠价格\nisFourfold 首充送几倍元宝（ 0不加倍，3是三倍）\ndesc3 三倍页面展示描述\nratio 折扣比例\n礼包道具的中日文名称对应信息（ Optional ）\n*如果有的话需要同步。\n用户属性\n基本属性\n根据各游戏的相关用户信息做同步，所需要获取的信息：对用户在游戏里的一些有重要影响的信息，比\n如：用户的 demographic 信息，用户在游戏里的使用信息等。\n例：异世界\nColumn Format ValueRequired （If exist then\nYes)\nuid string 用户游戏唯一\n标示idYes\nname string 用户昵称 Yes\nsex string 用户注册性别 Yes\nctwid string g123 平台\nidYes\nserver_id string 游戏服id Yes11.分析用数据同步 14\nColumn Format ValueRequired （If exist then\nYes)\nreg_time Unix\ntime注册时间 Yes\nlevel string 玩家级别 Yes\nvip_level string 玩家vip级\n别Yes\nvip_exp string 玩家vip经\n验Yes\nlast_login_time Unix\ntime上次登录时间 Yes\nlast_online_time Unix\ntime上次在线时间 Yes\nlogin_streak integer 连续登录天数 Yes\ndevice_id string 设备唯一标示\n符Yes\nmoney integer 金币 Yes\nfood integer 粮食 Yes\nintelligence integer 魔力 Yes\ngold integer 元宝 Yes\nexp integer 等级经验 Yes\nenergy integer 美女精力 Yes\npower integer 战力 Yes\nmarkDays integer 签到总天数 Yes\nyearCardDays integer 年卡天数 Yes\nmonthCardDays integer 月卡天数 Yes'}]"

2024-12-07 16:36:56.862 | DEBUG    | __main__:main:133 - final prompt: 
你是一位企业的智能客服，名字叫小海，如果用户输入的问题命中知识库，参照知识库中的内容进行回答，需要给出参考链接。
如果用户的问题不是，只是闲聊，请使用友善的语句与用户进行交流，不需要给出参考链接。
如果是你不能解决的问题，请回答友善的回答我不知道，不需要给出参考链接。

问题: "你好，你叫什么名字？"

参考资料: "[{'data': '}国际化对应 10\nResponse code: 202 (Accepted); Time: 419ms (419 ms);5.客服接口 1\nimport Callout from ‘nextra-theme-docs/callout ’\n5.客服接口\n游戏内通过接入此 API调起 G123平台提供的客服系统\n5.1前端上报玩家关键信息 API\n此 API主要用于，向平台客服系统传入，玩家当前游戏内的信息。接入 客服 API前，必须要接入此\nAPI。通常在游戏登录成功时调用此方法即可。\nwindow.top.postMessage (JSON.stringify ({\n"action" :"inform" ,\n"data":{\n"role_id" :"U-123-ABC" ,\n"role_name" :"我是角色名 ",\n"game_server" :"S101",\n"tags":[\'VIP2\',\'tag2\',\'tag3\',\'tag4\']\n}\n}),\'*\');\n参数\nparameter value required?\nrole_id 玩家在游戏内的唯一 uid Y es\nrole_name 玩家在游戏内的角色名 Y es\ngame_server 玩家当前的游戏服 Y es\ntags 玩家的关键信息 (VIP等级信息为必须 ，\n其他信息请在对接群中与 PM沟通 )，数\n量没有上限，只允许英文数字字母，有多个\ntag时请用英文” ,“号隔开Y es5.客服接口 2\n5.2客服 API\n玩家点击游戏内的客服按钮时调用此方法，必须实现 前端上报玩家关键信息 api\nwindow.top.postMessage (JSON.stringify ({\n"action" :"support"\n}),\'*\');5.客服接口 1\n5.客服接口\n准备\n完成数据接口 :g_register 事件和 g_login 事件\n方法\n当玩家点击游戏内的”客服”按钮时，触发方法以打开平台的客服窗口。\nwindow.top.postMessage (JSON.stringify ({\n"action" :"support"\n}),\'*\');11.活动平台 1\n11.活动平台\n11.1礼物发送方式\nAPI调用'}, {'data': '"message" :"下线成功"\n}\n7.3玩家管理系统\n协议说明\n•本文档意图说明接入 G123 GM 工具内的玩家管理系统所需提供的操作类型。\n•实现了对应接口后，请将 W ebhook 地址填入 Publisher 工具–>[GM 工具 ]–>[玩家管\n理 API]模块。\naction 操作类型枚举\n编号 枚举 含义\n1 rename 玩家重命名\n1 import 玩家数据导入\nqueryType 获取类型枚举\n编号 枚举 含义\n1 players 获取玩家列表\n2 player_details_tabs 获取 CP支持的玩家详情数据类型，本文档只提供协议规范和\n样例，具体实现需要 CP与运营共同商讨制订。\n3 player_details 获取指定类型的玩家数据详情。\n4 players 玩家数据操作\n5 item_logs 获取玩家道具流水日志7. GM 接口 [选接 ] 25\n编号 枚举 含义\n6 login_logs 获取玩家登录登出日志\n7 event_logs 获取玩家活动日志\n8 mail_logs 获取玩家邮件日志\n9 player_data_export 获取玩家数据导出 JSON\nHTTP 状态码\nHTTP 状态码 含义\n200 - OK 操作成功\n400 - Bad Request 错误请求，参数不合法或其他原因\n401 - Unauthorized 鉴权失败，未附 API key 或其他原因\n402 - Request F ailed 参数合法但其他原因请求失败\n403 - F orbidden 无权操作资源\n404 - Not F ound 该资源不可达\n409 - Conflict 资源状态与当前请求冲突\n500～504 - Server Errors 服务器内部错误\n7.3.1 玩家检索获取\n获取玩家列表\n•调用方法： GET\n•请求方： G123\n•响应方： CP\n•说明： G123平台获取玩家列表\n•验参： CP接入签名规则\n•请求参数Query\n编号 字段名 类型 必传 描述\n1 queryType string true 默认传 players\n2 page int true 页码，从 1开始7. GM 接口 [选接 ] 26\n编号 字段名 类型 必传 描述\n3 pageSize int true 页面大小'}, {'data': 'needShow 是否在充值列表展示 (0=显示，1=不显示）\ndesc2 页面展示描述\nsortNum 显示顺序（最小的在第一条）\ngold2 开服特惠价格\nisFourfold 首充送几倍元宝（ 0不加倍，3是三倍）\ndesc3 三倍页面展示描述\nratio 折扣比例\n礼包道具的中日文名称对应信息（ Optional ）\n*如果有的话需要同步。\n用户属性\n基本属性\n根据各游戏的相关用户信息做同步，所需要获取的信息：对用户在游戏里的一些有重要影响的信息，比\n如：用户的 demographic 信息，用户在游戏里的使用信息等。\n例：异世界\nColumn Format ValueRequired （If exist then\nYes)\nuid string 用户游戏唯一\n标示idYes\nname string 用户昵称 Yes\nsex string 用户注册性别 Yes\nctwid string g123 平台\nidYes\nserver_id string 游戏服id Yes11.分析用数据同步 14\nColumn Format ValueRequired （If exist then\nYes)\nreg_time Unix\ntime注册时间 Yes\nlevel string 玩家级别 Yes\nvip_level string 玩家vip级\n别Yes\nvip_exp string 玩家vip经\n验Yes\nlast_login_time Unix\ntime上次登录时间 Yes\nlast_online_time Unix\ntime上次在线时间 Yes\nlogin_streak integer 连续登录天数 Yes\ndevice_id string 设备唯一标示\n符Yes\nmoney integer 金币 Yes\nfood integer 粮食 Yes\nintelligence integer 魔力 Yes\ngold integer 元宝 Yes\nexp integer 等级经验 Yes\nenergy integer 美女精力 Yes\npower integer 战力 Yes\nmarkDays integer 签到总天数 Yes\nyearCardDays integer 年卡天数 Yes\nmonthCardDays integer 月卡天数 Yes'}]"

